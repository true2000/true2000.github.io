<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <h1>DO You Chnage? ðŸ‘‹</h1>

    <p>This is the HTML connector for the Power-Up. It will be loaded into a hidden iframe when your Power-Up is enabled.</p>
    <p>If you're looking for the manifest file, you should head over <a href="./manifest.json">here</a>.</p>
    <p>Not sure what is going on? Head on over to the <a href="https://github.com/trello/power-up-template/blob/gh-pages/README.md">README</a>.</p>

    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <script src=// Access name of list
    listNamesElement = "KLvU2mDGTQrsWG"
    // Access columns of names
    colContainerElement = "RD2CmKQFZKidd6"
    // Access cards of columns
    cardsElement = "T9JQSaXUsHTEzk"
    // Access completed of cards
    completeElement = "BOkIMdOUAQVOQk i0a3_aIBK1HcUl IRBlPpAzmf7j9R l2mAoxP747LETW"
    
    // Looks for all lists in the board
    listNames = document.getElementsByClassName(listNamesElement);
    // Looks at all columns in the board
    colContainer = document.getElementsByClassName(colContainerElement);
    // for loop iterates through each list name
    for(i = 0; i<listNames.length; i++){
      // Gets the size of all the cards in the current column
      total = colContainer[i].getElementsByClassName(cardsElement).length
      // Gets the size of all the cards marked as complete in the current column
      complete = colContainer[i].getElementsByClassName(completeElement).length
      // Updates the html text with current values
      listNames[i].textContent = "Total: "+total+"; Complete: "+complete;
    }></script>
    <script>
      TrelloPowerUp.initialize({
      'board-buttons': function(t, options) {
        return [{
          icon: "https://p7.hiclipart.com/preview/45/824/935/united-states-win-the-white-house-hotel-business-company-refresh-icon.jpg",
          text: 'Update Board',
          callback: function(t) {
            src="src/js/connector.js"
          }
        }];
      }
    });
    </script>
    <script src="src/js/connector.js"></script>
  </body>
</html>